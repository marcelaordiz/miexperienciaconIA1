
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mi primer encuentro con la IA - Mural colaborativo</title>
  <style>
    .questions {
        background: #ffffff;
        border-left: 5px solid #007bff;
        padding: 1em;
        border-radius: 10px;
        margin-top: 2em;
    }
    .questions h2 {
        color: #007bff;
        margin-bottom: 0.5em;
    }
    .questions ul {
        padding-left: 1.2em;
    }
    .questions li {
        margin-bottom: 0.5em;
        font-weight: 500;
    }

    body { font-family: sans-serif; background: #f4f4f4; padding: 20px; }
    h1 { text-align: center; }
    .board { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1em; margin-top: 2em; }
    .note { background: #fff3cd; padding: 1em; border-radius: 10px; box-shadow: 2px 2px 10px rgba(0,0,0,0.1); }
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); }
    .modal-content { background: white; margin: 10% auto; padding: 2em; width: 90%; max-width: 500px; border-radius: 10px; }
  </style>
</head>
<body>
  <h1>🤖 Mi primer encuentro con la IA</h1>
  <p style="text-align:center;"><button onclick="openModal()">Agregar experiencia</button></p>

  <div class="questions">
      <h2>💭 Preguntas para reflexionar:</h2>
      <ul>
          <li>¿Cuál fue tu primera experiencia directa con una herramienta de IA generativa?</li>
          <li>¿Qué sensaciones te generó? ¿Asombro, preocupación, curiosidad?</li>
          <li>¿Has observado cambios en el comportamiento de tus estudiantes que puedas relacionar con el uso de estas tecnologías?</li>
      </ul>
  </div>

  <div class="board" id="notesBoard"></div>

  <div class="modal" id="responseModal">
    <div class="modal-content">
      <form id="responseForm" onsubmit="submitForm(event)">
        <label>Tu nombre:<br><input type="text" name="nombre" required></label><br><br>
        <label>Primera herramienta de IA:<br><input type="text" name="herramienta" required></label><br><br>
        <label>Describe tu experiencia:<br><textarea name="experiencia" required></textarea></label><br><br>
        <label>Sensaciones:<br><textarea name="sensaciones" required></textarea></label><br><br>
        <label>Cambios observados:<br><textarea name="cambios"></textarea></label><br><br>
        <button type="submit">✨ Publicar experiencia</button>
        <button type="button" onclick="closeModal()">Cancelar</button>
      </form>
    </div>
  </div>

  <script>
    let responses = [];

    function openModal() {
      document.getElementById('responseModal').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('responseModal').style.display = 'none';
      document.getElementById('responseForm').reset();
    }

    function renderBoard() {
      const board = document.getElementById('notesBoard');
      board.innerHTML = '';
      responses.forEach(r => {
        const div = document.createElement('div');
        div.className = 'note';
        div.innerHTML = `
          <h4>${r.Nombre || r.nombre}</h4>
          <p><strong>🛠️ Herramienta:</strong> ${r.Herramienta || r.herramienta}</p>
          <p><strong>📝 Experiencia:</strong> ${r.Experiencia || r.experiencia}</p>
          <p><strong>💭 Sensaciones:</strong> ${r.Sensaciones || r.sensaciones}</p>
          ${r.Cambios || r.cambios ? `<p><strong>👥 Cambios observados:</strong> ${r.Cambios || r.cambios}</p>` : ''}
        `;
        board.appendChild(div);
      });
    }

    function submitForm(e) {
      e.preventDefault();
      const form = e.target;
      const formData = new FormData(form);

      fetch("https://script.google.com/macros/s/AKfycbxX57WsuCcp4FmBtdA2oJTWJqcFBVmZrCpooef7q3gzVQgb5iAE_dsv-hVDk7rcjIR4/exec", {
        method: "POST",
        body: formData
      })
      .then(() => {
        const data = Object.fromEntries(formData.entries());
        responses.unshift(data);
        renderBoard();
        closeModal();
        alert("✅ Tu experiencia fue enviada con éxito.");
      })
      .catch(error => {
        console.error("❌ Error al enviar los datos:", error);
        alert("Ocurrió un error al enviar tu experiencia.");
      });
    }
  </script>
</body>
</html>
